<!-- login_live.html.heex -->
<div class="min-h-screen flex flex-col md:flex-row">
  <!-- Left Panel (Login Form) -->
  <div class="w-full md:w-1/2 bg-plombYellow-200 p-6 md:p-10 flex flex-col justify-center">
    <div class="max-w-md mx-auto w-full">
      <div class="flex justify-center pb-12 pt-6 md:pt-0">
        <img src="/images/plomb-logo.svg" alt="Plomb Logo" class="h-20 mb-8" />
      </div>
      <h1 class="text-plombDarkBrown-300 text-2xl font-bold mb-8">Create an account, get free credits</h1>
      <!-- Social Login Buttons -->
      <div class="flex flex-col sm:flex-row gap-4 mb-6">
        <a
          href="/auth/google"
          class="w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-plombPink-500 hover:bg-plombPink-600 text-white rounded border transition"
        >
          <svg
            class="w-5 h-5"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 18 19"
          >
            <path
              fill-rule="evenodd"
              d="M8.842 18.083a8.8 8.8 0 0 1-8.65-8.948 8.841 8.841 0 0 1 8.8-8.652h.153a8.464 8.464 0 0 1 5.7 2.257l-2.193 2.038A5.27 5.27 0 0 0 9.09 3.4a5.882 5.882 0 0 0-.2 11.76h.124a5.091 5.091 0 0 0 5.248-4.057L14.3 11H9V8h8.34c.066.543.095 1.09.088 1.636-.086 5.053-3.463 8.449-8.4 8.449l-.186-.002Z"
              clip-rule="evenodd"
            />
          </svg>
          Sign in with Google
        </a>
        <!--
        <button type="button" class="w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-800 hover:bg-gray-700 text-white rounded border border-gray-700 transition">
          <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 20">
            <path d="M12.9 13.721c-.237.807-.665 1.541-1.283 2.196-.615.654-1.399 1.284-2.35 1.888-.379.25-.705.177-.975-.221a.674.674 0 0 1 .02-.804c.095-.131.262-.271.503-.419.241-.148.422-.262.543-.339.303-.205.565-.446.786-.724.221-.277.395-.592.523-.945a4.647 4.647 0 0 0 .191-1.302 4.843 4.843 0 0 0-.392-1.893c-.262-.615-.604-1.133-1.026-1.556a2.555 2.555 0 0 0-1.524-.654 1.301 1.301 0 0 0-1.148.501c-.287.336-.363.738-.228 1.204.126.432.332.84.618 1.226.287.385.444.639.473.76.048.205.044.369-.013.489-.056.12-.179.225-.367.316-.188.09-.332.049-.432-.125-.012-.018-.098-.17-.257-.457a5.369 5.369 0 0 1-.432-.995 3.142 3.142 0 0 1-.156-1.041c.006-.69.186-1.226.54-1.607.377-.405.88-.612 1.508-.62.798-.006 1.53.242 2.196.745.702.526 1.218 1.159 1.547 1.898.329.74.494 1.527.494 2.362 0 .847-.132 1.643-.395 2.386zm-4.474-7.998c-.018-.714.218-1.377.71-1.992.492-.615 1.156-.936 1.992-.965.053 0 .093.025.119.075.026.05.028.1.006.15-.152.338-.266.64-.342.906-.076.267-.135.632-.175 1.095-.041.463-.045.745-.013.845.033.1.015.158-.054.175-.22.048-.437.126-.652.233-.214.107-.494.264-.838.471-.345.207-.608.374-.79.5-.119.084-.201.082-.245-.006-.044-.089-.06-.232-.05-.432.01-.2.021-.363.031-.491.011-.128.022-.287.033-.477.01-.19.011-.334.003-.433a1.376 1.376 0 0 1 .266-.654z"/>
          </svg>
          Sign in with Apple
        </button>
      -->
      </div>
      <!-- Login Form 
      
      <div class="flex items-center my-6">
        <div class="flex-grow h-px bg-plombDarkBrown-800"></div>
        <span class="px-4 text-sm text-plombDarkBrown-500">or</span>
        <div class="flex-grow h-px bg-plombDarkBrown-800"></div>
      </div>
      
      <form phx-submit="login" class="space-y-6">
        <div>
          <label for="email" class="block text-sm font-medium text-gray-400 mb-1">Email</label>
          <input type="email" id="email" name="email" phx-debounce="blur" class="w-full p-3 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter your email" required />
        </div>
        
        <div>
          <label for="password" class="block text-sm font-medium text-gray-400 mb-1">Password</label>
          <input type="password" id="password" name="password" phx-debounce="blur" class="w-full p-3 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />
        </div>
        
        <div class="flex items-center justify-between">
          <div class="flex items-center">
            <input id="remember_me" name="remember_me" type="checkbox" class="h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-600 rounded" />
            <label for="remember_me" class="ml-2 block text-sm text-gray-400">Remember me</label>
          </div>
          <a href="/forgot-password" class="text-sm text-blue-500 hover:text-blue-400">Forgot password?</a>
        </div>
        
        <button type="submit" class="w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded transition duration-150 ease-in-out">
          Sign in to your account
        </button>
      </form>

    -->
      
      <!-- Sign up link -->
      <p class="mt-6 text-sm text-plombLightBrown-300">
        Already have an account? <a href={"/login#{@query_params}"} class="text-plombPink-500 hover:text-plombPink-400">Log in</a>
      </p>
    </div>
  </div>
  <!-- Right Panel (Branding) -->
  <div class="hidden md:flex md:w-1/2 bg-plombDarkBrown-500">
    <div class="px-0 py-12 max-w-lg mx-auto flex flex-col justify-center">
      <%= cond do %>
        <% @featured_provider != nil -> %>
          <div class="mb-10 text-center">
            <div class="flex justify-center items-center gap-8 mb-6">
              <!-- Provider Logo Box -->
              <div class="w-20 h-20 bg-white rounded-lg flex items-center justify-center">
                <img src={@featured_provider.logo} alt={@featured_provider.name <> " Logo"} class="h-14" />
              </div>
            </div>
            <h2 class="text-3xl font-bold text-plombYellow-100 mb-4">
              Plomb works with <%= @featured_provider.name %>
            </h2>
            <p class="text-plombYellow-100 text-lg">
              You can integrate <%= @featured_provider.name %> directly into your automations on Plomb. Automate tasks, sync data, and streamline your processes using the tools you already know and trust.
            </p>
            <div class="text-plombYellow-100 mt-10 flex flex-col items-center">
              <ul class="space-y-3">
              <li class="flex items-start">
                <span class="mr-2">üîó</span>
                <span>Seamless integration with <%= @featured_provider.name %></span>
              </li>
              <li class="flex items-start">
                <span class="mr-2">‚öôÔ∏è</span>
                <span>Fully customizable workflows</span>
              </li>
              <li class="flex items-start">
                <span class="mr-2">üöÄ</span>
                <span>Ready in minutes ‚Äî no code required</span>
              </li>
              </ul>
              <p class="mt-14 text-plombYellow-100 text-center">
                ‚Üí Sign up to start building with Plomb + <%= @featured_provider.name %>, <br>you get free credits to try it out
              </p>
            </div>
          </div>
        <% @featured_workflow_template != nil -> %>
          <div class="mb-10 text-center">
            <p class="text-plombYellow-100 text-2xl mb-12">
              Create an account, duplicate the template, and let the automation magic unfold! ‚ú®
            </p>

            <h2 class="text-3xl font-bold text-plombYellow-100 mb-2">
              <%= @featured_workflow_template.name %>
            </h2>

            <h3 class="text-md italic text-plombYellow-100 mb-4">
              <%= @featured_workflow_template.short_description %>
            </h3>
            
            <%= if @featured_workflow_template.image_url do %>
              <div class="mb-6">
                <img src={@featured_workflow_template.image_url} alt={@featured_workflow_template.name} class="rounded-lg mx-auto max-w-full h-auto border-plombPink-500 border-2 p-2" />
              </div>
            <% end %>

            <div class="markdown markdown-hide-title prose prose-invert prose-yellow mx-auto text-left text-plombYellow-100 bg-plombLightBrown-300 h-48 overflow-y-auto rounded-xl p-6">
              <%= raw(Earmark.as_html!(@featured_workflow_template.markdown_description)) %>
            </div>

            <div class="flex items-center mt-6">
              <span class="text-md text-plombYellow-100 mr-4">Required apps:</span>
              <div class="flex -space-x-2 mr-4">
                <%= for provider <- @template_providers do %>
                  <div class="group relative">
                    <img
                      class="w-10 h-10 rounded-full border-2 p-1 border-plombPink-500 bg-plombYellow-100"
                      src={provider.logo}
                      alt={provider.name <> " Logo"}
                    />
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block bg-plombDarkBrown-500 text-white px-2 py-1 rounded text-sm whitespace-nowrap">
                      <%= provider.name %>
                    </div>
                  </div>
                <% end %>
              </div>
            </div>
          </div>
        <% true -> %>
          <!-- Heading and Description -->
          <h2 class="text-5xl font-bold text-plombYellow-100 leading-tight mb-6">
            Sign Up. <br />Get Credits. <br />Start Automating.
          </h2>
          <p class="text-lg text-plombYellow-100 mb-10">
            You're just a few clicks away from bringing your workflows to life.
            <strong>Sign up now and get free credits</strong>
            to explore Plomb without any commitment. Build, test, and launch automations at your own pace, on your terms.
          </p>
          <!-- Customer avatars and count -->
          <div class="flex items-center">
            <div class="flex -space-x-2 mr-4">
              <div class="group relative">
                <img
                  class="w-10 h-10 rounded-full border-2 p-1 border-plombPink-500"
                  src="https://logo.clearbit.com/openai.com"
                  alt="OpenAI logo"
                />
                <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block bg-plombDarkBrown-500 text-white px-2 py-1 rounded text-sm whitespace-nowrap">
                  OpenAI
                </div>
              </div>
              <div class="group relative">
                <img
                  class="w-10 h-10 rounded-full border-2 p-1 border-plombPink-500"
                  src="https://img.logo.dev/midjourney.com?token=pk_FTxTPNXSRt28mcTgy0fTcQ"
                  alt="Midjourney logo"
                />
                <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block bg-plombDarkBrown-500 text-white px-2 py-1 rounded text-sm whitespace-nowrap">
                  Midjourney
                </div>
              </div>
              <div class="group relative">
                <img
                  class="w-10 h-10 rounded-full border-2 p-1 border-plombPink-500"
                  src="https://logo.clearbit.com/instagram.com"
                  alt="Instagram logo"
                />
                <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block bg-plombDarkBrown-500 text-white px-2 py-1 rounded text-sm whitespace-nowrap">
                  Instagram
                </div>
              </div>
              <div class="group relative">
                <img
                  class="w-10 h-10 rounded-full border-2 p-1 border-plombPink-500"
                  src="https://logo.clearbit.com/whatsapp.com"
                  alt="WhatsApp logo"
                />
                <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block bg-plombDarkBrown-500 text-white px-2 py-1 rounded text-sm whitespace-nowrap">
                  WhatsApp
                </div>
              </div>
              <div class="group relative">
                <img
                  class="w-10 h-10 rounded-full border-2 p-1 border-plombPink-500"
                  src="https://logo.clearbit.com/slack.com"
                  alt="Slack logo"
                />
                <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block bg-plombDarkBrown-500 text-white px-2 py-1 rounded text-sm whitespace-nowrap">
                  Slack
                </div>
              </div>
              <div class="group relative">
                <img
                  class="w-10 h-10 rounded-full border-2 p-1 border-plombPink-500"
                  src="https://logo.clearbit.com/twilio.com"
                  alt="Twilio logo"
                />
                <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block bg-plombDarkBrown-500 text-white px-2 py-1 rounded text-sm whitespace-nowrap">
                  Twilio
                </div>
              </div>
              <div class="group relative">
                <img
                  class="w-10 h-10 rounded-full border-2 p-1 border-plombPink-500"
                  src="https://logo.clearbit.com/google.com"
                  alt="Google Workspace logo"
                />
                <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block bg-plombDarkBrown-500 text-white px-2 py-1 rounded text-sm whitespace-nowrap">
                  Google Workspace
                </div>
              </div>
            </div>
            <span class="text-md text-plombYellow-100">Bring the power of AI to all your apps</span>
          </div>
      <% end %>
      
    </div>
  </div>
</div>
